{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?1472","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","class","attrs","on","$event","type","indexOf","_k","keyCode","directives","rawName","expression","closeModal","ctrlKey","shiftKey","submitForm","_m","saveData","ref","domProps","target","composing","$set","listeningMqtt","preventDefault","receiveIR","_v","api","prefix","send","id","_s","_l","item","staticClass","glyph","icon","model","callback","$$v","colors","save","list","el","knobAction","style","color","toggleManager","manager","text","staticRenderFns","components","draggable","loader","active","glyphs","mqtt","cssVar","hostname","getHostname","receive","load","settings","computed","filteredGlyphs","filter","watch","e","setTimeout","hex","mounted","loadSVG","methods","fetch","findObjIndex","headers","Accept","method","body","JSON","stringify","resp","ok","Error","sendIR","controller","abort","flip","self","clearTimeout","mqttListeningTimeout","required","some","$toast","error","includes","idToCompareWith","index","generateUID","Math","random","toString","getComputedStyle","document","documentElement","getPropertyValue","prop","component","Vue","config","productionTip","use","VueToast","duration","position","render","h","App","$mount"],"mappings":"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","file":"js/app.4a8f45a3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.mode,attrs:{\"id\":\"app\",\"tabindex\":\"0\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }_vm.mode = 'normal'}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loader),expression:\"loader\"}],attrs:{\"id\":\"loader\"}}),_c('div',{attrs:{\"id\":\"svg-sprite\"}}),_c('div',{attrs:{\"id\":\"add-overlay\"},on:{\"click\":_vm.closeModal,\"keydown\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==83){ return null; }if(!$event.ctrlKey){ return null; }if(!$event.shiftKey){ return null; }return _vm.submitForm($event)}}},[_c('form',{attrs:{\"action\":\"#\",\"id\":\"form1\",\"autocomplete\":\"off\"}},[_c('div',{attrs:{\"id\":\"close\"},on:{\"click\":_vm.closeModal}}),_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveData.name),expression:\"saveData.name\"}],ref:\"name\",attrs:{\"type\":\"text\",\"id\":\"knob_name\",\"required\":\"\"},domProps:{\"value\":(_vm.saveData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.saveData, \"name\", $event.target.value)}}}),_vm._m(1),_c('div',{attrs:{\"id\":\"mqtt\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveData.mqtt),expression:\"saveData.mqtt\"}],attrs:{\"type\":\"text\",\"id\":\"knob_mqtt\",\"required\":\"\"},domProps:{\"value\":(_vm.saveData.mqtt)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.saveData, \"mqtt\", $event.target.value)}}}),_c('button',{attrs:{\"disabled\":_vm.listeningMqtt},on:{\"click\":function($event){$event.preventDefault();return _vm.receiveIR($event)}}},[_vm._v(\"Listen\")])]),_c('label',{attrs:{\"for\":\"knob_id\"}},[_vm._v(\"Unique id \"),_c('span',[_c('a',{attrs:{\"href\":_vm.api.prefix + _vm.api.send + '/' +_vm.saveData.id,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.api.prefix)+_vm._s(_vm.api.send)+\"/\"+_vm._s(_vm.saveData.id)+\" \")])])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveData.id),expression:\"saveData.id\"}],attrs:{\"type\":\"text\",\"id\":\"knob_id\",\"required\":\"\",\"readonly\":\"\"},domProps:{\"value\":(_vm.saveData.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.saveData, \"id\", $event.target.value)}}}),_vm._m(2),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveData.icon),expression:\"saveData.icon\"}],attrs:{\"type\":\"text\",\"id\":\"knob_icon\"},domProps:{\"value\":(_vm.saveData.icon)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.saveData, \"icon\", $event.target.value)}}}),_c('div',{attrs:{\"id\":\"glyphs\"}},_vm._l((_vm.filteredGlyphs),function(item){return _c('div',{key:item,staticClass:\"glyph\",attrs:{\"data-name\":item,\"title\":item},domProps:{\"innerHTML\":_vm._s(_vm.glyph(item))},on:{\"click\":function($event){_vm.saveData.icon = item;}}})}),0),_vm._m(3),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.saveData.color),expression:\"saveData.color\"}],attrs:{\"type\":\"text\",\"id\":\"knob_color\"},domProps:{\"value\":(_vm.saveData.color)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.saveData, \"color\", $event.target.value)}}}),_c('slider-picker',{model:{value:(_vm.colors),callback:function ($$v) {_vm.colors=$$v},expression:\"colors\"}}),_c('button',{attrs:{\"form\":\"form1\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitForm($event)}}},[_vm._v(\"Save\")]),_vm._m(4)],1)]),_c('draggable',{attrs:{\"id\":\"remote\",\"disabled\":(this.mode == 'sort') ? false : true},on:{\"change\":_vm.save},model:{value:(_vm.list),callback:function ($$v) {_vm.list=$$v},expression:\"list\"}},_vm._l((_vm.list),function(el){return _c('div',{key:el.id,staticClass:\"item\",attrs:{\"title\":el.name},on:{\"click\":function($event){return _vm.knobAction(el.id)}}},[(el.icon)?_c('div',{staticClass:\"glyph\"},[_c('svg',{staticClass:\"icon\",style:('fill:' + el.color)},[_c('use',{attrs:{\"xlink:href\":'#' + el.icon}})])]):_c('div',{class:['no-icon len-' + el.name.length],style:('color:' + el.color)},[_vm._v(\" \"+_vm._s(el.name)+\" \")])])}),0),_c('div',{attrs:{\"id\":\"menu\"}},[_vm._v(\" [\"),_c('a',{staticClass:\"manager\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleManager($event)}}},[_vm._v(_vm._s(_vm.manager.text))]),_vm._v(\"] \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.manager.active),expression:\"manager.active\"}],staticClass:\"container\"},[_vm._v(\" [\"),_c('a',{staticClass:\"add\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.mode = 'add'}}},[_vm._v(\"Add\")]),_vm._v(\" | \"),_c('a',{staticClass:\"edit\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.mode = 'edit'}}},[_vm._v(\"Edit\")]),_vm._v(\" | \"),_c('a',{staticClass:\"sort\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.mode = 'sort'}}},[_vm._v(\"Sort\")]),_vm._v(\" | \"),_c('a',{staticClass:\"remove\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.mode = 'remove'}}},[_vm._v(\"Remove\")]),_vm._v(\"] \")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"knob_name\"}},[_vm._v(\"Name \"),_c('span',[_vm._v(\"Name for your knob\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"knob_mqtt\"}},[_vm._v(\"Mqtt response \"),_c('span',[_vm._v(\"If no icon is selected, the name will be used\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"knob_icon\"}},[_vm._v(\"Icon \"),_c('span',[_vm._v(\"If no icon is selected, the name is being used\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"knob_color\"}},[_vm._v(\"Color \"),_c('span',[_vm._v(\" Color for the icon. Leave blank for default that depends on the parent theme. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('strong',[_vm._v(\"Control+Shift+S\")]),_vm._v(\" to save, \"),_c('strong',[_vm._v(\"Esc\")]),_vm._v(\" to close\")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\" tabindex=\"0\"\n            v-bind:class=\"mode\"\n            @keydown.esc=\"mode = 'normal'\">\n\n    <div id=\"loader\" v-show=\"loader\" />\n    <div id=\"svg-sprite\" />\n\n    <div id=\"add-overlay\"\n                v-on:click=\"closeModal\"\n    @keydown.ctrl.shift.83=\"submitForm\">\n\n      <form action=\"#\" id=\"form1\" autocomplete=\"off\">\n        <div id=\"close\" v-on:click=\"closeModal\" />\n\n        <label for=\"knob_name\">Name <span>Name for your knob</span></label>\n        <input type=\"text\" id=\"knob_name\" ref=\"name\" required\n            v-model=\"saveData.name\">\n\n        <label for=\"knob_mqtt\">Mqtt response\n          <span>If no icon is selected, the name will be used</span>\n        </label>\n        <div id=\"mqtt\">\n          <input type=\"text\" id=\"knob_mqtt\" required\n              v-model=\"saveData.mqtt\">\n          <button :disabled=\"listeningMqtt\"\n         v-on:click.prevent=\"receiveIR\">Listen</button>\n        </div>\n\n        <label for=\"knob_id\">Unique id\n          <span>\n            <a v-bind:href=\"api.prefix + api.send + '/' +saveData.id\" target=\"_blank\">\n              {{api.prefix}}{{api.send}}/{{saveData.id}}\n            </a>\n          </span>\n        </label>\n        <input type=\"text\" id=\"knob_id\" required readonly\n            v-model=\"saveData.id\">\n\n        <label for=\"knob_icon\">Icon\n          <span>If no icon is selected, the name is being used</span>\n        </label>\n        <input type=\"text\" id=\"knob_icon\"\n            v-model=\"saveData.icon\">\n\n        <div id=\"glyphs\">\n          <div class=\"glyph\"\n               v-for=\"item in filteredGlyphs\"\n          v-bind:key=\"item\"\n          :data-name=\"item\"\n             :title=\"item\"\n          v-on:click=\"saveData.icon = item;\"\n              v-html=\"glyph(item)\" />\n        </div>\n\n        <label for=\"knob_color\">Color\n          <span>\n            Color for the icon. Leave blank for default that depends on the parent theme.\n          </span>\n        </label>\n        <input type=\"text\" id=\"knob_color\"\n            v-model=\"saveData.color\">\n        <slider-picker v-model=\"colors\"></slider-picker>\n\n        <button form=\"form1\" v-on:click.prevent=\"submitForm\">Save</button>\n\n        <p><strong>Control+Shift+S</strong> to save,\n            <strong>Esc</strong> to close</p>\n      </form>\n\n    </div>\n\n    <draggable id=\"remote\"\n          v-model=\"list\"\n        :disabled=\"(this.mode == 'sort') ? false : true\"\n          @change=\"save\">\n\n      <div class=\"item\"\n           v-for=\"el in list\"\n            :key=\"el.id\"\n          :title=\"el.name\"\n      v-on:click=\"knobAction(el.id)\">\n\n        <div class=\"glyph\"\n        v-if=\"el.icon\">\n          <svg class=\"icon\" :style=\"'fill:' + el.color\">\n            <use :xlink:href=\"'#' + el.icon\"></use>\n          </svg>\n        </div>\n\n        <div :class=\"['no-icon len-' + el.name.length]\"  :style=\"'color:' + el.color\" v-else>\n          {{ el.name }}\n        </div>\n\n      </div>\n    </draggable>\n\n    <div id=\"menu\">\n      [<a href=\"#\" v-on:click.prevent=\"toggleManager\" class=\"manager\">{{manager.text}}</a>]\n      <div class=\"container\" v-show=\"manager.active\">\n        [<a href=\"#\" v-on:click.prevent=\"mode = 'add'\" class=\"add\">Add</a> |\n         <a href=\"#\" v-on:click.prevent=\"mode = 'edit'\" class=\"edit\">Edit</a> |\n         <a href=\"#\" v-on:click.prevent=\"mode = 'sort'\" class=\"sort\">Sort</a> |\n         <a href=\"#\" v-on:click.prevent=\"mode = 'remove'\" class=\"remove\">Remove</a>]\n       </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport draggable from 'vuedraggable';\nimport { Slider } from 'vue-color';\nimport './assets/app.scss';\nimport 'vue-toast-notification/dist/theme-default.css';\n\nexport default {\n  name: 'App',\n  components: {\n    draggable,\n    'slider-picker': Slider,\n  },\n  data() {\n    return {\n      mode: 'normal',\n      loader: false,\n      manager: {\n        active: false,\n        text: 'Manager',\n      },\n      list: [],\n      glyphs: [],\n      colors: { hex: this.cssVar('--text') },\n      saveData: {\n        id: '',\n        name: '',\n        mqtt: '',\n        icon: '',\n        color: this.cssVar('--text'),\n      },\n      listeningMqtt: false,\n      hostname: this.getHostname(),\n      api: {\n        prefix: `${this.getHostname()}/api`,\n        receive: '/ir/receive',\n        send: '/ir/send',\n        save: '/db/save',\n        load: '/db/load',\n        settings: '/settings',\n      },\n      settings: {},\n    };\n  },\n\n  computed: {\n    filteredGlyphs() {\n      // saveData.icon is the term\n      return this.glyphs.filter((x) => x.toLowerCase()\n        .indexOf(this.saveData.icon.toLowerCase()) > -1);\n    },\n  },\n\n  watch: {\n    mode(e) {\n      if (e === 'editor') {\n        setTimeout(() => this.$refs.name.focus(), 500);\n      } else if (e === 'add') {\n        this.saveData = {\n          name: '', mqtt: '', id: this.generateUID(), icon: '',\n        };\n        setTimeout(() => this.$refs.name.focus(), 500);\n      }\n    },\n    colors(value) {\n      this.saveData.color = value.hex;\n    },\n  },\n\n  mounted() {\n    this.load();\n    this.loadSVG();\n  },\n  methods: {\n    load() {\n      fetch(`${this.api.prefix}${this.api.load}`)\n        .then((resp) => {\n          if (!resp.ok) {\n            throw new Error(`API HTTP status ${resp.status}`);\n          }\n          return resp.json();\n        }).then((json) => {\n          this.list = json;\n        }).catch((err) => {\n          this.$toast.error(String(err));\n        });\n      fetch(`${this.api.prefix}${this.api.settings}`)\n        .then((resp) => resp.json()).then((json) => {\n          this.settings = json;\n          const root = document.getElementsByTagName('html')[0];\n          if (this.settings.dark_theme) root.setAttribute('data-theme', 'dark');\n        });\n    },\n\n    toggleManager() {\n      if (this.manager.active) {\n        this.mode = 'normal';\n        this.manager.text = 'Manager';\n      } else {\n        this.manager.text = 'Normal';\n        this.mode = 'normal';\n      }\n      this.manager.active = !this.manager.active;\n    },\n    loadSVG() {\n      const self = this;\n      fetch(`${this.hostname}/icons/sprite.svg?`)\n        .then((resp) => {\n          if (!resp.ok) {\n            throw new Error(`API HTTP status ${resp.status}`);\n          }\n          return resp.text();\n        })\n        .then((data) => {\n          const svg = document.getElementById('svg-sprite');\n          svg.innerHTML = data;\n          document.body.insertBefore(svg, document.body.childNodes[0]);\n          const parser = (new DOMParser()).parseFromString(data, 'text/xml');\n          const symbols = parser.getElementsByTagName('symbol');\n          if (!symbols.length) {\n            throw new Error('Cannot generate svg icons');\n          }\n          for (let i = 0; i < symbols.length; i += 1) {\n            self.glyphs.push(symbols[i].getAttribute('id'));\n          }\n        }).catch((err) => {\n          this.$toast.error(String(err));\n        });\n    },\n\n    save() {\n      if (this.mode === 'editor') {\n        this.list[this.findObjIndex()] = ({\n          id: this.saveData.id,\n          name: this.saveData.name,\n          mqtt: this.saveData.mqtt,\n          icon: this.saveData.icon,\n          color: this.saveData.color,\n        });\n      } else if (this.mode === 'add') {\n        this.list.push(this.saveData);\n      }\n\n      fetch(`${this.api.prefix}${this.api.save}`, {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        method: 'POST',\n        body: JSON.stringify(this.list),\n      }).then((resp) => {\n        if (!resp.ok) throw new Error(`API HTTP status ${resp.status}`);\n      }).then(() => {\n        this.$toast.success('Saved');\n      }).catch((err) => {\n        this.$toast.error(String(err));\n      });\n    },\n\n    knobAction(id) {\n      switch (this.mode) {\n        case 'edit':\n          this.saveData = this.list[this.findObjIndex(id)];\n          this.mode = 'editor';\n          break;\n        case 'remove':\n          this.list = this.list.filter((x) => x.id !== id);\n          this.save();\n          this.mode = 'normal';\n          break;\n        default:\n          this.sendIR(id);\n      }\n    },\n\n    sendIR(id) {\n      fetch(`${this.api.prefix}${this.api.send}/${id}`)\n        .then((resp) => {\n          if (!resp.ok) throw new Error(`API HTTP status ${resp.status}`);\n        }).then(() => {\n          this.loader = false;\n        }).catch((err) => {\n          this.$toast.error(String(err));\n          this.loader = false;\n        });\n    },\n\n    receiveIR() {\n      const self = this;\n      this.listeningMqtt = true;\n      this.loader = true;\n      const mqttTimeout = 5;\n      const controller = new AbortController();\n\n      const mqttListeningTimeout = setTimeout(() => {\n        controller.abort();\n      }, (mqttTimeout * 1000));\n\n      function flip() {\n        self.listeningMqtt = false;\n        self.loader = false;\n        clearTimeout(mqttListeningTimeout);\n      }\n\n      fetch(`${this.api.prefix}${this.api.receive}`, { signal: controller.signal })\n        .then((resp) => {\n          if (!resp.ok) {\n            throw new Error(`API HTTP status ${resp.status}`);\n          }\n          return resp.json();\n        }).then((json) => {\n          flip();\n          self.saveData.mqtt = json.mqtt;\n          console.log(json.mqtt);\n          this.$toast.info('Ir code received');\n        }).catch((err) => {\n          flip();\n          if (err.name === 'AbortError') {\n            this.$toast.info(`Stopped listening after ${mqttTimeout} seconds of no incoming messages`);\n          } else {\n            this.$toast.error(String(err));\n          }\n        });\n    },\n\n    submitForm() {\n      const required = [this.saveData.name, this.saveData.mqtt, this.saveData.id];\n      if (required.some((x) => x.trim() === '')) {\n        this.$toast.error('Name, id and mqtt required');\n      } else {\n        this.save();\n        // Leave the state in edit mode when making changes,\n        // not adding new knobs\n        if (this.mode === 'editor') {\n          this.mode = 'edit';\n        } else {\n          this.mode = 'normal';\n        }\n      }\n    },\n\n    glyph(icon) {\n      return `<svg class=\"icon\" style=\"fill: ${this.saveData.color}\">\n                <use xlink:href=\"#${icon}\"></use>\n              </svg>`;\n    },\n\n    closeModal(e) {\n      if (['add-overlay', 'close'].includes(e.target.id)) {\n        this.mode = 'normal';\n      }\n    },\n\n    // Finds the correct index of an object\n    // in array we want to modify\n    findObjIndex(id) {\n      const idToCompareWith = (id) || this.saveData.id;\n      let index;\n      for (let i = 0; i < this.list.length; i += 1) {\n        if (this.list[i].id === idToCompareWith) {\n          index = i;\n        }\n      }\n      return index;\n    },\n\n    generateUID() {\n      return Math.random().toString(36).slice(-8);\n    },\n\n    cssVar(prop) {\n      return getComputedStyle(document.documentElement).getPropertyValue(prop);\n    },\n\n    getHostname() {\n      // Use hardcoded :6789 when in production mode\n      // running 'npm run serve',\n      if (process.env.NODE_ENV === 'production') {\n        // Ingress needs :8099\n        return `http://${window.location.hostname}:8099`;\n      }\n      return 'http://localhost:8099';\n    },\n  },\n};\n\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=31ac543f&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueToast from 'vue-toast-notification';\nimport App from './App.vue';\n\nVue.config.productionTip = false;\n\nVue.use(VueToast, {\n  duration: 4000,\n  type: 'default',\n  position: 'bottom',\n});\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount('#app');\n"],"sourceRoot":""}